#
# My dotfile importing script
#

if type git &> /dev/null;
then
  git pull -q origin master
else
echo "No git! Falling back to rsync"
  ssh thurn.ca "cd /home/dthurn/public_html/thurn.ca/dotfiles && git pull" 
  if type dig &> /dev/null;
  then
    if dig +time=1 +tries=1 +norecurse www.thurn.ca > /dev/null;
    then
      rsync -rtz thurn.ca::dthurndotfiles ~
    else
      date >> .no_internet
    fi  
  else
    rsync -rtz thurn.ca::dthurndotfiles ~
  fi
fi
